webpackJsonp([2],{0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0,s=c=void 0}},u=n(5),c=r(u),l=n(37),p=r(l),d=n(164),f=r(d),h=n(8),v=r(h),m=n(23),y=function(e){function t(e){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={points:{},text:"// zakó\nvar testmagassag = 170cm\nvar mellboseg = 100cm\nvar derekboseg = 88cm\nvar csipoboseg = 106cm\nvar derekhossza = 44.5cm\nvar zakohossza = 76cm\nvar hataszelesseg = 22cm\nvar vallszelesseg = 15.5cm\nvar ujjahossza = 78cm\nvar hata_egyensulymeret = 47cm\nvar eleje_egyensulymeret = 46cm\n\nvar tm = testmagassag\nvar mb = mellboseg / 2\nvar db = derekboseg / 2\nvar csb = csipoboseg / 2\n\n// HÁTA\nvar kulcsszam = db / 10 + ((mb / 10) * 0.5) - 5cm\n\nvar honaljmelyseg = tm / 10 + mb / 10\n1 = start\n1-2 = down kulcsszam\n1-3 = down honaljmelyseg\n2-4 = down honaljmelyseg / 2\n2-5 = down honaljmelyseg / 4\n1-6 = down derekhossza\n\nvar csipomelyseg = tm / 10\n6-7 = down csipomelyseg\n1-8 = down zakohossza\n2-9 = left hataszelesseg + 1cm\n\n10 = intersect 4.horizontal 9.vertical\n11 = intersect 3.horizontal 9.vertical\n\n10-12 = down 3cm\n12-13 = left 1cm\n\n15 = [1-9].closestPointTo 5\n\nvar nyakszelesseg = mb / 10 + 3.5cm\n15-16 = angleOf [15-9] nyakszelesseg\n\n6-__17a =up hata_egyensulymeret + 1\n17 = intersect __17a.horizontal 16.perpendicularWith [1-16]\n17-18 = angleOf [17-9] vallszelesseg + 1 + 0.5cm\n\n6-19 = left 3cm\n8-20 = left 4cm\n\n20-21 = perpendicularTo [19-20]  csb / 10 * 3.5\n\n22 = intersect 21.perpendicularWith [21-20] 7.horizontal\n\n23 = intersect 7.horizontal [19-20]\n//24-25 = right 1\n// TODO FIXME\n\nvar eleje_tavolsag = 25cm\n\n3-33 = left mb + eleje_tavolsag\n6-34 = left mb + eleje_tavolsag\n7-35 = left mb + eleje_tavolsag\n\nvar derekszelesseg = db / 10 * 5\n33-36 = right derekszelesseg\n36-37 = up kulcsszam\n36-38 = left derekszelesseg / 2 + kulcsszam / 2\n38-39 = left mb / 10 * 2\n\nvar mellszelesseg = mb / 10 * 4 + 4cm\n39-40 = angleOf [39-37] mellszelesseg\n41 = intersect 36.horizontal 40.perpendicularWith [40-37]\n40-42 = angleOf [41-40] 3cm\n\n41-43 = right 5cm\n\nvar honaljszelesseg = mb / 10 * 2.5 + 3cm\n41-44 = right honaljszelesseg\n34-45 = right db / 10 * 2 + 6cm // mellformázó varrás helye\n46 = intersect 45.vertical 3.horizontal\n46-47 = down 3cm\n47-48 = left 0.5cm\n46-49 = down [8-46].length / 2 + 3cm\n	"}}return i(t,e),a(t,[{key:"componentDidUpdate",value:function(){this.zoom()}},{key:"componentDidMount",value:function(){this.zoom()}},{key:"zoom",value:function(){var e=p["default"].findDOMNode(this).querySelector("svg"),t=e.getBBox();e.setAttribute("viewBox",[t.x,t.y,t.width,t.height].join(" "))}},{key:"onTextareaChange",value:function(e){this.setState({text:e.target.value})}},{key:"render",value:function(){var e={},t=[];try{t=f["default"].parse(this.state.text)}catch(n){t=[]}var r={line:function(t){var n=void 0;switch(t.type){case"simpleLine":n=new m.line(e[t.id1],e[t.id2]);break;case"verticalLine":n=e[t.id].verticalLine();break;case"horizontalLine":n=e[t.id].horizontalLine();break;case"perpendicular":var r=this.line(t.line);n=new m.line(e[t.id],e[t.id].atAngle(r.angle+v["default"].radians(90),100));break;default:console.warn("unkown line type",t.type)}return n},angle:function o(e){var o=void 0;switch(e.type){case"angle":o=v["default"].radians(e.deg);break;case"angleOf":o=this.line(e.line).angle;break;case"perpendicularTo":o=this.line(e.line).angle+v["default"].radians(90)}return o}};return t.map(function(t){switch(t.type){case"variable":break;case"comment":break;case"newpoint":e[t.id]=new m.point(0,0);break;case"pointFromOtherPoint":var n=t.startingpoint,o=t.direction,i=t.distance;e[t.id]=e[n].atAngle(r.angle(o),i);break;case"intersection":var a=t.line1,s=t.line2;e[t.id]=m.intersectionOf(r.line(a),r.line(s));break;case"closestPointTo":var u=r.line(t.line);e[t.id]=u.closestPointTo(e[t.point]);break;default:console.warn("unsupported",t)}}),console.log(e),c["default"].createElement("div",null,c["default"].createElement("svg",{width:"800",height:"800"},Object.keys(e).filter(function(e){return!e.startsWith("__")}).map(function(t){return c["default"].createElement("g",{key:t},c["default"].createElement("circle",{cx:e[t].x,cy:e[t].y,r:2,key:t}),c["default"].createElement("text",{x:e[t].x,y:e[t].y,fontSize:"20"},t))})),c["default"].createElement("textarea",{cols:"80",rows:"10",value:this.state.text,onChange:this.onTextareaChange.bind(this)}))}}]),t}(c["default"].Component);p["default"].render(c["default"].createElement(y,null),document.querySelector("#main"))},164:function(e,t){e.exports=function(){function e(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function t(e,t,n,r,o,i){this.message=e,this.expected=t,this.found=n,this.offset=r,this.line=o,this.column=i,this.name="SyntaxError"}function n(e){function n(){return e.substring(yt,mt)}function r(t){function n(t,n,r){var o,i;for(o=n;r>o;o++)i=e.charAt(o),"\n"===i?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===i||"\u2028"===i||"\u2029"===i?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}return gt!==t&&(gt>t&&(gt=0,bt={line:1,column:1,seenCR:!1}),n(bt,gt,t),gt=t),bt}function o(e){Et>mt||(mt>Et&&(Et=mt,_t=[]),_t.push(e))}function i(n,o,i){function a(e){var t=1;for(e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}function s(e,t){function n(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0180-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1080-\uFFFF]/g,function(e){return"\\u"+t(e)})}var r,o,i,a=new Array(e.length);for(i=0;i<e.length;i++)a[i]=e[i].description;return r=e.length>1?a.slice(0,-1).join(", ")+" or "+a[e.length-1]:a[0],o=t?'"'+n(t)+'"':"end of input","Expected "+r+" but "+o+" found."}var u=r(i),c=i<e.length?e.charAt(i):null;return null!==o&&a(o),new t(null!==n?n:s(o,c),o,c,i,u.line,u.column)}function a(){var e,t,n;return e=mt,t=O(),t!==M?(n=m(),n!==M?(yt=e,t=S(n),e=t):(mt=e,e=R)):(mt=e,e=R),e}function s(){var t,n,r,i;if(t=mt,e.substr(mt,2)===k?(n=k,mt+=2):(n=M,0===xt&&o(I)),n!==M){for(r=[],A.test(e.charAt(mt))?(i=e.charAt(mt),mt++):(i=M,0===xt&&o(L));i!==M;)r.push(i),A.test(e.charAt(mt))?(i=e.charAt(mt),mt++):(i=M,0===xt&&o(L));r!==M?(yt=t,n=V(),t=n):(mt=t,t=R)}else mt=t,t=R;return t}function u(){var t,n,r,i,a,s;return t=mt,n=N(),n!==M?(r=O(),r!==M?(61===e.charCodeAt(mt)?(i=j,mt++):(i=M,0===xt&&o(z)),i!==M?(a=O(),a!==M?(e.substr(mt,5)===U?(s=U,mt+=5):(s=M,0===xt&&o(F)),s!==M?(yt=t,n=B(n),t=n):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R),t}function c(){var t,n;return e.substr(mt,9)===W?(t=W,mt+=9):(t=M,0===xt&&o(q)),t===M&&(t=mt,e.substr(mt,2)===H?(n=H,mt+=2):(n=M,0===xt&&o(Y)),n!==M&&(yt=t,n=K()),t=n,t===M&&(t=mt,e.substr(mt,4)===X?(n=X,mt+=4):(n=M,0===xt&&o(G)),n!==M&&(yt=t,n=Z()),t=n,t===M&&(t=mt,e.substr(mt,4)===Q?(n=Q,mt+=4):(n=M,0===xt&&o($)),n!==M&&(yt=t,n=J()),t=n,t===M&&(t=mt,e.substr(mt,5)===ee?(n=ee,mt+=5):(n=M,0===xt&&o(te)),n!==M&&(yt=t,n=ne()),t=n,t===M&&(t=l()))))),t}function l(){var t,n,r,i;return t=mt,e.substr(mt,7)===re?(n=re,mt+=7):(n=M,0===xt&&o(oe)),n!==M?(r=O(),r!==M?(i=h(),i!==M?(yt=t,n=ie(i),t=n):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R),t===M&&(t=mt,e.substr(mt,15)===ae?(n=ae,mt+=15):(n=M,0===xt&&o(se)),n!==M?(r=O(),r!==M?(i=h(),i!==M?(yt=t,n=ue(i),t=n):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R),t===M&&(t=mt,ce.test(e.charAt(mt))?(n=e.charAt(mt),mt++):(n=M,0===xt&&o(le)),n!==M?(e.substr(mt,3)===pe?(r=pe,mt+=3):(r=M,0===xt&&o(de)),r!==M?(yt=t,n=fe(n),t=n):(mt=t,t=R)):(mt=t,t=R))),t}function p(){var t,n,r,i,a,s,u,l,p,d,f,h;return t=mt,n=N(),n!==M?(r=O(),r!==M?(45===e.charCodeAt(mt)?(i=he,mt++):(i=M,0===xt&&o(ve)),i!==M?(a=O(),a!==M?(s=N(),s!==M?(u=O(),u!==M?(61===e.charCodeAt(mt)?(l=j,mt++):(l=M,0===xt&&o(z)),l!==M?(p=O(),p!==M?(d=c(),d!==M?(f=O(),f!==M?(h=y(),h!==M?(yt=t,n=me(n,s,d,h),t=n):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R),t}function d(){var t,n,r,i,a,s,u,c,l;return t=mt,n=N(),n!==M?(r=O(),r!==M?(61===e.charCodeAt(mt)?(i=j,mt++):(i=M,0===xt&&o(z)),i!==M?(a=O(),a!==M?(s=h(),s!==M?(e.substr(mt,15)===ye?(u=ye,mt+=15):(u=M,0===xt&&o(ge)),u!==M?(c=O(),c!==M?(l=N(),l!==M?(yt=t,n=be(n,s,l),t=n):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R),t}function f(){var e;return e=u(),e===M&&(e=v(),e===M&&(e=p(),e===M&&(e=d()))),e}function h(){var t,n,r,i,a,s,u,c,l,p;return t=mt,91===e.charCodeAt(mt)?(n=Ee,mt++):(n=M,0===xt&&o(_e)),n!==M?(r=O(),r!==M?(i=N(),i!==M?(a=O(),a!==M?(45===e.charCodeAt(mt)?(s=he,mt++):(s=M,0===xt&&o(ve)),s!==M?(u=O(),u!==M?(c=N(),c!==M?(l=O(),l!==M?(93===e.charCodeAt(mt)?(p=xe,mt++):(p=M,0===xt&&o(Ne)),p!==M?(yt=t,n=we(i,c),t=n):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R),t===M&&(t=mt,n=N(),n!==M?(e.substr(mt,9)===Oe?(r=Oe,mt+=9):(r=M,0===xt&&o(Ce)),r!==M?(yt=t,n=De(n),t=n):(mt=t,t=R)):(mt=t,t=R),t===M&&(t=mt,n=N(),n!==M?(e.substr(mt,11)===Me?(r=Me,mt+=11):(r=M,0===xt&&o(Pe)),r!==M?(yt=t,n=Te(n),t=n):(mt=t,t=R)):(mt=t,t=R),t===M&&(t=mt,n=N(),n!==M?(e.substr(mt,18)===Re?(r=Re,mt+=18):(r=M,0===xt&&o(Se)),r!==M?(i=O(),i!==M?(a=h(),a!==M?(yt=t,n=ke(n,a),t=n):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)))),t}function v(){var t,n,r,i,a,s,u,c,l,p;return t=mt,n=N(),n!==M?(r=O(),r!==M?(61===e.charCodeAt(mt)?(i=j,mt++):(i=M,0===xt&&o(z)),i!==M?(a=O(),a!==M?(e.substr(mt,9)===Ie?(s=Ie,mt+=9):(s=M,0===xt&&o(Ae)),s!==M?(u=O(),u!==M?(c=h(),c!==M?(l=O(),l!==M?(p=h(),p!==M?(yt=t,n=Le(n,c,p),t=n):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R),t}function m(){var e,t,n,r,o;if(e=mt,t=O(),t!==M)if(n=y(),n!==M){for(r=[],o=m();o!==M;)r.push(o),o=m();r!==M?(o=O(),o!==M?(yt=e,t=Ve(n,r),e=t):(mt=e,e=R)):(mt=e,e=R)}else mt=e,e=R;else mt=e,e=R;return e}function y(){var t,n,r,i,a,u,c,l;if(t=x(),t===M&&(t=s(),t===M&&(t=f(),t===M)))if(t=mt,n=g(),n!==M){for(r=[],i=mt,a=O(),a!==M?(43===e.charCodeAt(mt)?(u=je,mt++):(u=M,0===xt&&o(ze)),u===M&&(45===e.charCodeAt(mt)?(u=he,mt++):(u=M,0===xt&&o(ve))),u!==M?(c=O(),c!==M?(l=g(),l!==M?(a=[a,u,c,l],i=a):(mt=i,i=R)):(mt=i,i=R)):(mt=i,i=R)):(mt=i,i=R);i!==M;)r.push(i),i=mt,a=O(),a!==M?(43===e.charCodeAt(mt)?(u=je,mt++):(u=M,0===xt&&o(ze)),u===M&&(45===e.charCodeAt(mt)?(u=he,mt++):(u=M,0===xt&&o(ve))),u!==M?(c=O(),c!==M?(l=g(),l!==M?(a=[a,u,c,l],i=a):(mt=i,i=R)):(mt=i,i=R)):(mt=i,i=R)):(mt=i,i=R);r!==M?(yt=t,n=Ue(n,r),t=n):(mt=t,t=R)}else mt=t,t=R;return t}function g(){var t,n,r,i,a,s,u,c;if(t=mt,n=b(),n!==M){for(r=[],i=mt,a=O(),a!==M?(42===e.charCodeAt(mt)?(s=Fe,mt++):(s=M,0===xt&&o(Be)),s===M&&(47===e.charCodeAt(mt)?(s=We,mt++):(s=M,0===xt&&o(qe))),s!==M?(u=O(),u!==M?(c=b(),c!==M?(a=[a,s,u,c],i=a):(mt=i,i=R)):(mt=i,i=R)):(mt=i,i=R)):(mt=i,i=R);i!==M;)r.push(i),i=mt,a=O(),a!==M?(42===e.charCodeAt(mt)?(s=Fe,mt++):(s=M,0===xt&&o(Be)),s===M&&(47===e.charCodeAt(mt)?(s=We,mt++):(s=M,0===xt&&o(qe))),s!==M?(u=O(),u!==M?(c=b(),c!==M?(a=[a,s,u,c],i=a):(mt=i,i=R)):(mt=i,i=R)):(mt=i,i=R)):(mt=i,i=R);r!==M?(yt=t,n=He(n,r),t=n):(mt=t,t=R)}else mt=t,t=R;return t}function b(){var t,n,r,i,a,s;return t=mt,40===e.charCodeAt(mt)?(n=Ye,mt++):(n=M,0===xt&&o(Ke)),n!==M?(r=O(),r!==M?(i=y(),i!==M?(a=O(),a!==M?(41===e.charCodeAt(mt)?(s=Xe,mt++):(s=M,0===xt&&o(Ge)),s!==M?(yt=t,n=Ze(i),t=n):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R),t===M&&(t=E()),t}function E(){var t,n,r,i,a;return t=_(),t===M&&(t=w(),t===M&&(t=mt,n=N(),n!==M?(40===e.charCodeAt(mt)?(r=Ye,mt++):(r=M,0===xt&&o(Ke)),r!==M?(i=y(),i!==M?(41===e.charCodeAt(mt)?(a=Xe,mt++):(a=M,0===xt&&o(Ge)),a!==M?(yt=t,n=Qe(n,i),t=n):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R),t===M&&(t=mt,n=N(),n!==M&&(yt=t,n=$e(n)),t=n))),t}function _(){var t,n,r;if(t=mt,n=[],r=w(),r!==M)for(;r!==M;)n.push(r),r=w();else n=R;if(n!==M?(e.substr(mt,2)===Je?(r=Je,mt+=2):(r=M,0===xt&&o(et)),r!==M?(yt=t,n=tt(n),t=n):(mt=t,t=R)):(mt=t,t=R),t===M){if(t=mt,n=[],r=w(),r!==M)for(;r!==M;)n.push(r),r=w();else n=R;n!==M?(e.substr(mt,4)===nt?(r=nt,mt+=4):(r=M,0===xt&&o(rt)),r!==M?(yt=t,n=ot(n),t=n):(mt=t,t=R)):(mt=t,t=R)}return t}function x(){var t,n,r,i,a,s,u,c;return t=mt,e.substr(mt,3)===it?(n=it,mt+=3):(n=M,0===xt&&o(at)),n!==M?(r=O(),r!==M?(i=N(),i!==M?(a=O(),a!==M?(61===e.charCodeAt(mt)?(s=j,mt++):(s=M,0===xt&&o(z)),s!==M?(u=O(),u!==M?(c=y(),c!==M?(yt=t,n=st(i,c),t=n):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R)):(mt=t,t=R),t}function N(){var t,n,r,i;if(t=mt,n=[],ut.test(e.charAt(mt))?(r=e.charAt(mt),mt++):(r=M,0===xt&&o(ct)),r!==M)for(;r!==M;)n.push(r),ut.test(e.charAt(mt))?(r=e.charAt(mt),mt++):(r=M,0===xt&&o(ct));else n=R;if(n!==M){for(r=[],ut.test(e.charAt(mt))?(i=e.charAt(mt),mt++):(i=M,0===xt&&o(ct));i!==M;)r.push(i),ut.test(e.charAt(mt))?(i=e.charAt(mt),mt++):(i=M,0===xt&&o(ct));r!==M?(yt=t,n=lt(),t=n):(mt=t,t=R)}else mt=t,t=R;return t}function w(){var t,n,r;if(xt++,t=mt,n=[],ce.test(e.charAt(mt))?(r=e.charAt(mt),mt++):(r=M,0===xt&&o(le)),r!==M)for(;r!==M;)n.push(r),ce.test(e.charAt(mt))?(r=e.charAt(mt),mt++):(r=M,0===xt&&o(le));else n=R;return n!==M&&(yt=t,n=dt()),t=n,xt--,t===M&&(n=M,0===xt&&o(pt)),t}function O(){var t,n;for(xt++,t=[],ht.test(e.charAt(mt))?(n=e.charAt(mt),mt++):(n=M,0===xt&&o(vt));n!==M;)t.push(n),ht.test(e.charAt(mt))?(n=e.charAt(mt),mt++):(n=M,0===xt&&o(vt));return xt--,t===M&&(n=M,0===xt&&o(ft)),t}var C,D=arguments.length>1?arguments[1]:{},M={},P={start:a},T=a,R=M,S=function(e){return e},k="//",I={type:"literal",value:"//",description:'"//"'},A=/^[^\n]/,L={type:"class",value:"[^\\n]",description:"[^\\n]"},V=function(){return{type:"comment",value:n()}},j="=",z={type:"literal",value:"=",description:'"="'},U="start",F={type:"literal",value:"start",description:'"start"'},B=function(e){return{type:"newpoint",id:e}},W="direction",q={type:"literal",value:"direction",description:'"direction"'},H="up",Y={type:"literal",value:"up",description:'"up"'},K=function(){return{type:"angle",deg:180}},X="down",G={type:"literal",value:"down",description:'"down"'},Z=function(){return{type:"angle",deg:0}},Q="left",$={type:"literal",value:"left",description:'"left"'},J=function(){return{type:"angle",deg:90}},ee="right",te={type:"literal",value:"right",description:'"right"'},ne=function(){return{type:"angle",deg:270}},re="angleOf",oe={type:"literal",value:"angleOf",description:'"angleOf"'},ie=function(e){return{type:"angleOf",line:e}},ae="perpendicularTo",se={type:"literal",value:"perpendicularTo",description:'"perpendicularTo"'},ue=function(e){return{type:"perpendicularTo",line:e}},ce=/^[0-9.]/,le={type:"class",value:"[0-9.]",description:"[0-9.]"},pe="deg",de={type:"literal",value:"deg",description:'"deg"'},fe=function(e){return{type:"angle",deg:e}},he="-",ve={type:"literal",value:"-",description:'"-"'},me=function(e,t,n,r){return{type:"pointFromOtherPoint",startingpoint:e,id:t,direction:n,distance:r}},ye=".closestPointTo",ge={type:"literal",value:".closestPointTo",description:'".closestPointTo"'},be=function(e,t,n){return{type:"closestPointTo",id:e,line:t,point:n}},Ee="[",_e={type:"literal",value:"[",description:'"["'},xe="]",Ne={type:"literal",value:"]",description:'"]"'},we=function(e,t){return{type:"simpleLine",id1:e,id2:t}},Oe=".vertical",Ce={type:"literal",value:".vertical",description:'".vertical"'},De=function(e){return{type:"verticalLine",id:e}},Me=".horizontal",Pe={type:"literal",value:".horizontal",description:'".horizontal"'},Te=function(e){return{type:"horizontalLine",id:e}},Re=".perpendicularWith",Se={type:"literal",value:".perpendicularWith",description:'".perpendicularWith"'},ke=function(e,t){return{type:"perpendicular",id:e,line:t}},Ie="intersect",Ae={type:"literal",value:"intersect",description:'"intersect"'},Le=function(e,t,n){return{type:"intersection",id:e,line1:t,line2:n}},Ve=function(e,t){return t.reduce(function(e,t){return t.forEach(function(t){e.push(t)}),e},[e])},je="+",ze={type:"literal",value:"+",description:'"+"'},Ue=function(e,t){var n,r=e;for(n=0;n<t.length;n++)"+"===t[n][1]&&(r+=t[n][3]),"-"===t[n][1]&&(r-=t[n][3]);return r},Fe="*",Be={type:"literal",value:"*",description:'"*"'},We="/",qe={type:"literal",value:"/",description:'"/"'},He=function(e,t){var n,r=e;for(n=0;n<t.length;n++)"*"===t[n][1]&&(r*=t[n][3]),"/"===t[n][1]&&(r/=t[n][3]);return r},Ye="(",Ke={type:"literal",value:"(",description:'"("'},Xe=")",Ge={type:"literal",value:")",description:'")"'},Ze=function(e){return e},Qe=function(e,t){return wt[e](t)},$e=function(e){return Nt[e]},Je="cm",et={type:"literal",value:"cm",description:'"cm"'},tt=function(e){return 10*e},nt="inch",rt={type:"literal",value:"inch",description:'"inch"'},ot=function(e){return 254*e},it="var",at={type:"literal",value:"var",description:'"var"'},st=function(e,t){return Nt[e]=t,{type:"variable",variable:[e,t]}},ut=/^[a-zA-Z0-9_]/,ct={type:"class",value:"[a-zA-Z0-9_]",description:"[a-zA-Z0-9_]"},lt=function(){return n()},pt={type:"other",description:"number"},dt=function(){return+n()},ft={type:"other",description:"whitespace"},ht=/^[ \t\n\r;]/,vt={type:"class",value:"[ \\t\\n\\r;]",description:"[ \\t\\n\\r;]"},mt=0,yt=0,gt=0,bt={line:1,column:1,seenCR:!1},Et=0,_t=[],xt=0;if("startRule"in D){if(!(D.startRule in P))throw new Error("Can't start parsing from rule \""+D.startRule+'".');T=P[D.startRule]}var Nt={},wt={squared:function(e){return e*e},incr:function(e){return e+1}};if(C=T(),C!==M&&mt===e.length)return C;throw C!==M&&mt<e.length&&o({type:"end",description:"end of input"}),i(null,_t,Et)}return e(t,Error),{SyntaxError:t,parse:n}}()}});